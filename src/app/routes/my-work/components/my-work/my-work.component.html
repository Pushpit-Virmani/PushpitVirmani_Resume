<!-- TODO: Wrap everything inside a section. -->
<header class="mt-16">
  <h1 class="mat-display-2 mat-text-primary">Work Experience</h1>
</header>

<!-- TODO: Remove this main. Change it to article or something. -->
<main class="mat-body">
  <ng-container *ngIf="workExp$ | async as workExp; else loading">
    <ng-container *ngIf="workExp.data && !workExp.error; else error">
      <pv-exp-item
        *ngFor="let expItem of workExp.data"
        [expItem]="expItem"
      ></pv-exp-item>
    </ng-container>

    <ng-template #error>Could not fetch work experience.</ng-template>
  </ng-container>

  <!-- <ng-container *ngTemplateOutlet="loading"></ng-container> -->

  <ng-template #loading>
    <div
      class="mat-app-background-secondary-dark rounded-full anim-fade-in-out md:w-1/2"
    >
      <h1 class="opacity-0 mat-headline">LOADING...</h1>
    </div>
    <div
      class="mat-app-background-secondary-dark rounded-full anim-fade-in-out w-1/2 md:w-1/3"
    >
      <h2 class="opacity-0 mat-title">LOADING...</h2>
    </div>
    <div
      class="mat-app-background-secondary-dark rounded-full anim-fade-in-out w-1/3 md:w-1/4"
    >
      <div class="opacity-0 mat-body-2">LOADING...</div>
    </div>

    <section class="mt-16">
      <ng-container *ngTemplateOutlet="loadingListItem"></ng-container>
      <ng-container *ngTemplateOutlet="loadingListItem"></ng-container>
      <ng-container *ngTemplateOutlet="loadingListItem"></ng-container>

      <ng-template #loadingListItem>
        <div class="mb-4 flex md:w-1/2">
          <div
            class="mat-app-background-secondary-dark rounded-full anim-fade-in-out"
          >
            <div class="opacity-0 mat-body-2">ABC</div>
          </div>
          <div
            class="mat-app-background-secondary-dark rounded-full anim-fade-in-out ml-4 flex-grow"
          >
            <div class="opacity-0 mat-body-2">LOADING...</div>
          </div>
        </div>
      </ng-template>
    </section>
  </ng-template>
</main>
